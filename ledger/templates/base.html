{% load static %}

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>{% block title %}Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ{% endblock %}</title>

  <!-- Bootstrap RTL ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ layout Ùˆ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

  <!-- jQuery Ùˆ Select2 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- jQuery Ùˆ Datepicker -->
  <!-- <link rel="stylesheet" href="{% static 'css/persian-datepicker.min.css' %}"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-datepicker@1.2.0/dist/css/persian-datepicker.min.css">

  <!-- ğŸ”¹ Ù¾ÛŒØ´â€ŒØ¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙÙˆÙ†Øª Ù‡Ø§ -->
  <link rel="preload" href="{% static 'fonts/vazirmatn/Vazirmatn-Regular.woff2' %}" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="{% static 'fonts/vazirmatn/Vazirmatn-Medium.woff2' %}" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="{% static 'fonts/vazirmatn/Vazirmatn-Bold.woff2' %}" as="font" type="font/woff2" crossorigin>

  <link rel="stylesheet" href="{% static 'css/fonts.css' %}">
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body>
  <!-- Toast / Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ -->
  <div id="notify-container" class="notify-container" aria-live="polite" aria-atomic="true"></div>

  <!-- Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø³Ø§ÛŒØª -->
  <nav class="navbar">
    <div class="navbar-brand">Ù…Ø²ÙˆÙ† Ù¾ÙˆØ´Ø§Ú© (HB Maison)</div>
    <div class="hamburger" id="hamburger"><div></div><div></div><div></div></div>
    <div class="navbar-menu" id="menu">
      <a href="{% url 'register_sell' %}">Ø«Ø¨Øª ÙØ±ÙˆØ´</a>
      <a href="{% url 'register_purchase' %}">Ø«Ø¨Øª Ø®Ø±ÛŒØ¯</a>
      <a href="{% url 'register_receipt' %}">Ø¯Ø±ÛŒØ§ÙØª ÙˆØ¬Ù‡</a>
      <a href="{% url 'register_payment' %}">Ù¾Ø±Ø¯Ø§Ø®Øª ÙˆØ¬Ù‡</a>
      <a href="{% url 'items_list' %}">Ú©Ø§Ù„Ø§Ù‡Ø§</a>
      <a href="{% url 'parties_list' %}">Ø·Ø±Ù Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§</a>
      <a href="{% url 'transaction_list' %}">ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§</a>
      <a href="{% url 'customer_balance_report' %}">Ù…Ø´ØªØ±ÛŒØ§Ù†</a>
      <a href="{% url 'monthly_sales' %}">ğŸ“Š ÙØ±ÙˆØ´ Ù…Ø§Ù‡Ø§Ù†Ù‡</a>

      {% if user.is_authenticated %}
        <a href="{% url 'logout' %}">Ø®Ø±ÙˆØ¬</a>
      {% else %}
        <a href="{% url 'login' %}">ÙˆØ±ÙˆØ¯</a>
      {% endif %}
    </div>
  </nav>

  <!-- Ù…Ø­ØªÙˆØ§ÛŒ ØµÙØ­Ù‡ -->
  <div id="page-root" class="main-container hide-until-ready">
    {% block content %}{% endblock %}
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø´ÙˆÙ†Ø¯Ù‡ -->
  {% include "partials/modals.html" %}

  <!-- === Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§: Ø§ÙˆÙ„ Ù„Ø§ÛŒØ¨Ø±Ø±ÛŒâ€ŒÙ‡Ø§ØŒ Ø¨Ø¹Ø¯ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ØªØŒ Ø¨Ø¹Ø¯ Ø¨Ù„ÙˆÚ© ØµÙØ­Ù‡ === -->
  <!-- jQuery (ONLY ONCE) -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

  <!-- Persian Date & Datepicker (JS) -->
<!--<script src="https://cdn.jsdelivr.net/npm/persian-date@1.1.1/dist/persian-date.min.js"></script>-->
  <script src="{% static 'js/persian-datepicker.min.js' %}"></script>

  <!-- Select2 (JS) -->
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- Bootstrap (JS) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ø±Ø§Ø³Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ (Ø¨Ø¹Ø¯ Ø§Ø² Ù„Ø§ÛŒØ¨Ø±Ø±ÛŒâ€ŒÙ‡Ø§) -->
  <script src="{% static 'js/app.js' %}"></script>
  <script src="{% static 'js/modals.js' %}"></script>
  <script src="{% static 'js/notify.js' %}"></script>
  <script src="{% static 'js/numbers.js' %}"></script>

  <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ØªØµØ§ØµÛŒ Ù‡Ø± ØµÙØ­Ù‡ (Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ ØªØ§ Ù‡Ù…Ù‡ Ù„Ø§ÛŒØ¨Ø±Ø±ÛŒâ€ŒÙ‡Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø´Ù†Ø¯) -->
  {% block scripts %}{% endblock %}

  <!-- Ù…Ù†ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ù‡Ø§ÛŒÛŒ -->
  <script>
    (function(){
      const hamburger = document.getElementById('hamburger');
      const menu = document.getElementById('menu');
      if (hamburger && menu) { hamburger.addEventListener('click', () => menu.classList.toggle('show')); }
      window.requestAnimationFrame(() => document.getElementById('page-root')?.classList.remove('hide-until-ready'));
    })();
  </script>


  <!-- Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Django -->
  {% if messages %}
  <script>
    window.addEventListener('DOMContentLoaded', function(){
      {% for message in messages %}
        if (window.notify) {
          window.notify('{{ message.tags|default:"info" }}', "{{ message|escapejs }}");
        }
      {% endfor %}
    });
  </script>
  {% endif %}
</body>
</html>
